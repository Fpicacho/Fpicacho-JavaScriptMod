<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>事件冒泡</title>
    </head>
    <body>

        <button id="btn" style="width: 200px; height: 30px">嘤嘤嘤</button>
        <script>
            //bubbles 返回布尔值 表示当前事件是否会冒泡
            //注意 大部分事件可以冒泡 focus blur scroll事件不会冒泡
            //stopPropagation 阻止冒泡
            //stopImmediatePropagation 阻止冒泡且阻止同一事件的其他事件
            // var btn = document.getElementById('btn');
            // btn.onclick = function (e) {
            //     e = e || window.event;
            //     console.log(e.bubbles);
            //     e.stopImmediatePropagation();
            //     this.innerHTML = '1';
            // };
            // btn.onclick = function (e) {
            //     e = e || window.event;
            //     console.log(e.bubbles);
            //     this.style.background = 'red';
            // };

            // btn.addEventListener('click',function(e){
            //     e = e || window.event;
            //     e.stopImmediatePropagation();
            //     this.innerHTML = '1';
            // },false);
            //
            // btn.addEventListener('click',function(){
            //     this.style.background = 'pink';
            // },false);
            // document.body.onclick = function () {
            //     this.style.background = 'pink';
            //     console.log('阻止失败');
            // };

            //cancelBubble 可读写 阻止事件冒泡 支持IE8 默认false
            btn.addEventListener('click',function(e){
                e = e || window.event;
                e.cancelBubble = true;
                this.innerHTML = '1';
            },false);

            document.body.onclick = function () {
                this.style.background = 'pink';
                console.log('阻止失败');
            };


            //兼容
            // if(e.stopPropagation){
            //     e.stopPropagation();
            // }else{
            //     e.cancelBubble = true;
            // };
        </script>
    </body>
</html>